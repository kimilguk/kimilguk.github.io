<!doctype html><html lang="ko"><head><title>코로나19확진자 방문처 확인 조회</title><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1"/><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><link rel="stylesheet" href="design_publish/css/common.css"/><script src="design_publish/js/jquery-1.11.3.min.js"></script><script src="design_publish/js/common.js"></script><script src="design_publish/js/jquery.smooth-scroll.min.js"></script><link href="/static/css/main.5facb584.chunk.css" rel="stylesheet"></head><body><div id="wrap"></div><style>input,select,textarea{-webkit-appearance:checkbox}input[type=text]{height:inherit}</style><script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=ef34dcfb14fcb14d243605d3903e8135&libraries=services"></script><link href="kakaomap.css" rel="stylesheet"><div class="map_wrap"><div id="map" style="width:100%;height:100%;position:relative;overflow:hidden"></div><div id="menu_wrap" class="bg_white"><div class="option"><div><form onsubmit="return searchPlaces(),!1">현재 일시기준 9일전 자료까지 조회 됩니다.<br>검색어 무시하고 전체 지도보기: <input type="checkbox" value="전체검색" id="search_all"><br>키워드 : <input value="충남" id="keyword" size="15"> <button type="submit">검색하기</button></form></div></div><hr><ul id="placesList"></ul><div id="pagination" style="display:none"></div></div></div><script>var search_all=document.getElementById("search_all"),markers=[],mapContainer=document.getElementById("map"),mapOption={center:new kakao.maps.LatLng(36.818434,127.1527916),level:3},map=new kakao.maps.Map(mapContainer,mapOption),ps=new kakao.maps.services.Places,infowindow=new kakao.maps.InfoWindow({zIndex:1});function searchPlaces(){var e=document.getElementById("keyword").value;if(!e.replace(/^\s+|\s+$/g,""))return alert("키워드를 입력해주세요!"),!1;ps.keywordSearch(e,placesSearchCB)}function calDateRange(e,a){if(e.length>10||a.length>10)return null;if(e.indexOf("-")<0||a.indexOf("-")<0)return null;var n=e.split("-"),t=a.split("-");n[1]=Number(n[1])-1+"",t[1]=Number(t[1])-1+"";var r=new Date(n[0],n[1],n[2]);return(new Date(t[0],t[1],t[2]).getTime()-r.getTime())/1e3/60/60/24}function placesSearchCB(e,a,n){fetch("https://coroname.me/getdata").then(e=>e.text()).then(t=>{var r=JSON.parse(t).data,s=[];let o=new Date;for(var i=o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate(),d=0;d<r.length;d++){var l=calDateRange(r[d].visitedDate.split("T")[0],i),m=document.getElementById("keyword").value,p=r[d].address.includes(m);1==search_all.checked&&(p=!0),l<=9&&!0===p&&(r[d].id=d,s.push(r[d]))}if(0===s.length)return alert("검색된 결과가 없습니다."),!1;if(e=s,a===kakao.maps.services.Status.OK)displayPlaces(e),displayPagination(n);else{if(a===kakao.maps.services.Status.ZERO_RESULT)return void alert("검색 결과가 존재하지 않습니다.");if(a===kakao.maps.services.Status.ERROR)return void alert("검색 결과 중 오류가 발생했습니다.")}})}function displayPlaces(e){var a=document.getElementById("placesList"),n=document.getElementById("menu_wrap"),t=document.createDocumentFragment(),r=new kakao.maps.LatLngBounds;removeAllChildNods(a),removeMarker();for(var s=0;s<e.length;s++){if(void 0===e[s].y){var o=e[s].latlng.split(","),i=o[0],d=o[1];e[s].y=i,e[s].x=d,e[s].place_name=e[s].place,e[s].road_address_name=e[s].region,e[s].address_name=e[s].address,e[s].phone=e[s].createDate}var l=new kakao.maps.LatLng(e[s].y,e[s].x),m=addMarker(l,s),p=getListItem(s,e[s]);r.extend(l),function(e,a){kakao.maps.event.addListener(e,"mouseover",(function(){displayInfowindow(e,a)})),kakao.maps.event.addListener(e,"mouseout",(function(){infowindow.close()})),p.onmouseover=function(){displayInfowindow(e,a)},p.onmouseout=function(){infowindow.close()}}(m,e[s].place_name),t.appendChild(p)}a.appendChild(t),n.scrollTop=0,map.setBounds(r)}function getListItem(e,a){var n=document.createElement("li"),t='<span class="markerbg marker_'+(e+1)+'"></span><div class="info">   <h5>'+a.place_name+"</h5>";return a.road_address_name?t+="    <span>"+a.road_address_name+'</span>   <span class="jibun gray">'+a.address_name+"</span>":t+="    <span>"+a.address_name+"</span>",t+='  <span class="tel">방문일시:'+a.phone+"</span></div>",n.innerHTML=t,n.className="item",n}function addMarker(e,a,n){var t=new kakao.maps.Size(36,37),r={spriteSize:new kakao.maps.Size(36,691),spriteOrigin:new kakao.maps.Point(0,46*a+10),offset:new kakao.maps.Point(13,37)},s=new kakao.maps.MarkerImage("https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_number_blue.png",t,r),o=new kakao.maps.Marker({position:e,image:s});return o.setMap(map),markers.push(o),o}function removeMarker(){for(var e=0;e<markers.length;e++)markers[e].setMap(null);markers=[]}function displayPagination(e){for(var a,n=document.getElementById("pagination"),t=document.createDocumentFragment();n.hasChildNodes();)n.removeChild(n.lastChild);for(a=1;a<=e.last;a++){var r=document.createElement("a");r.href="#",r.innerHTML=a,a===e.current?r.className="on":r.onclick=function(a){return function(){e.gotoPage(a)}}(a),t.appendChild(r)}n.appendChild(t)}function displayInfowindow(e,a){var n='<div style="padding:5px;z-index:1;">'+a+"</div>";infowindow.setContent(n),infowindow.open(map,e)}function removeAllChildNods(e){for(;e.hasChildNodes();)e.removeChild(e.lastChild)}searchPlaces()</script><script>!function(e){function r(r){for(var n,p,i=r[0],l=r[1],a=r[2],c=0,s=[];c<i.length;c++)p=i[c],Object.prototype.hasOwnProperty.call(o,p)&&o[p]&&s.push(o[p][0]),o[p]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(f&&f(r);s.length;)s.shift()();return u.push.apply(u,a||[]),t()}function t(){for(var e,r=0;r<u.length;r++){for(var t=u[r],n=!0,i=1;i<t.length;i++){var l=t[i];0!==o[l]&&(n=!1)}n&&(u.splice(r--,1),e=p(p.s=t[0]))}return e}var n={},o={1:0},u=[];function p(r){if(n[r])return n[r].exports;var t=n[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,p),t.l=!0,t.exports}p.m=e,p.c=n,p.d=function(e,r,t){p.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},p.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},p.t=function(e,r){if(1&r&&(e=p(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(p.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)p.d(t,n,function(r){return e[r]}.bind(null,n));return t},p.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return p.d(r,"a",r),r},p.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},p.p="/";var i=this.webpackJsonpapp_covid19=this.webpackJsonpapp_covid19||[],l=i.push.bind(i);i.push=r,i=i.slice();for(var a=0;a<i.length;a++)r(i[a]);var f=l;t()}([])</script><script src="/static/js/2.477fd9d6.chunk.js"></script><script src="/static/js/main.cda9ae8e.chunk.js"></script></body></html>